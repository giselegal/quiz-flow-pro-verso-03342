/**
 * ðŸ”§ VITE CONFIG PATCH - FASE 3 WebSocket
 * 
 * Adicionar ao vite.config.ts:
 */

// No server.hmr, adicionar configuraÃ§Ã£o de WebSocket:
server: {
  hmr: {
    // âœ… FASE 3: ConfiguraÃ§Ã£o otimizada de WebSocket para HMR
    overlay: true,
    clientPort: undefined, // Auto-detect
    // Timeout maior para evitar "closed without opened"
    timeout: 5000,
  },
}

// No build.rollupOptions, adicionar:
build: {
  rollupOptions: {
    output: {
      // âœ… FASE 3: Remover console.* em produÃ§Ã£o
      banner: `
        if (typeof window !== 'undefined') {
          if (import.meta.env.PROD) {
            console.log = () => {};
            console.debug = () => {};
            console.info = () => {};
          }
        }
      `,
    },
  },
}
