<!doctype html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ðŸš€ Quiz Flow Pro Verso | Vista-se de VocÃª! - Gisele GalvÃ£o</title>

  <meta property="og:title" content="ðŸš€ Quiz Flow Pro Verso | Vista-se de VocÃª! - Gisele GalvÃ£o" />
  <meta property="og:description"
    content="Cansada do guarda-roupa lotado e nada combina? FaÃ§a o quiz da Gisele GalvÃ£o e descubra seu estilo com clareza e confianÃ§a. Resultado imediato!" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://giselegalvao.com.br/" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Quiz Flow Pro Verso | Vista-se de VocÃª! - Gisele GalvÃ£o" />

  <!-- Permissions Policy para suprimir warnings -->
  <meta http-equiv="Permissions-Policy" content="camera=(), microphone=(), geolocation=()">

  <!-- Minimal head for maximum compatibility -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

  <!-- Essential font loading -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet" />

  <style>
    .content-placeholder {
      width: 100%;
      max-width: 345px;
      aspect-ratio: 1.47;
      margin: 20px auto;
      background-color: #f6f3ef;
      border-radius: 0.5rem;
    }

    .js-loading {
      opacity: 0;
      transition: opacity 0.3s ease-in;
    }

    .will-animate {
      will-change: transform, opacity;
      transform: translateZ(0);
      backface-visibility: hidden;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Inter', sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    #root {
      min-height: 100vh;
      width: 100%;
    }

    .loading-fallback {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      background-color: #f9fafb;
    }

    .loading-spinner {
      width: 2.5rem;
      height: 2.5rem;
      border-radius: 50%;
      border: 2px solid #e5e7eb;
      border-top-color: #b29670;
      animation: spin 0.8s linear infinite;
      will-change: transform;
      transform: translateZ(0);
      backface-visibility: hidden;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    .font-playfair {
      font-family: 'Playfair Display', serif;
    }
  </style>
</head>

<body>
  <div id="root">
    <div class="loading-fallback">
      <div class="loading-spinner"></div>
    </div>
  </div>

  <script type="module" src="/src/main.tsx"></script>

  <!-- ðŸ”„ Chunk Recovery: Recarrega aplicaÃ§Ã£o ao detectar falha de carregamento de chunk (404 / network) -->
  <script>
    (function () {
      const MAX_RELOADS = 2;
      const FLAG_KEY = 'chunk-reload-attempts';
      function shouldRetry() {
        try {
          const v = parseInt(localStorage.getItem(FLAG_KEY) || '0', 10);
          if (v < MAX_RELOADS) {
            localStorage.setItem(FLAG_KEY, String(v + 1));
            return true;
          }
        } catch { }
        return false;
      }
      function clearFlag() {
        try { localStorage.removeItem(FLAG_KEY); } catch { }
      }
      window.addEventListener('load', clearFlag);
      window.addEventListener('error', function (ev) {
        // Detecta falhas em scripts dinÃ¢micos (chunks)
        const target = ev.target || ev.srcElement;
        if (target && target.tagName === 'SCRIPT' && target.src && /assets\/.*\.js/.test(target.src)) {
          console.warn('[ChunkRecovery] Falha ao carregar chunk:', target.src);
          if (shouldRetry()) {
            const url = new URL(window.location.href);
            url.searchParams.set('_r', Date.now().toString());
            console.info('[ChunkRecovery] Recarregando pÃ¡gina para tentar recuperar...');
            window.location.replace(url.toString());
          } else {
            console.error('[ChunkRecovery] Limite de tentativas atingido. Mostrar fallback.');
            // Opcional: exibir mensagem amigÃ¡vel
            const el = document.createElement('div');
            el.style.cssText = 'position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#fff;font-family:sans-serif;z-index:9999;padding:20px;text-align:center;color:#222;';
            el.innerHTML = '<div><h2 style="margin:0 0 12px;font-size:20px;">Atualizando recursos...</h2><p style="margin:0 0 8px;">NÃ£o conseguimos carregar alguns arquivos. Limpe o cache (CTRL+F5) ou tente novamente mais tarde.</p></div>';
            document.body.appendChild(el);
          }
        }
      }, true);
    })();
  </script>

  <script>
    // Unregister any existing service workers to avoid caching/fetch conflicts
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.getRegistrations().then(regs => {
        for (const reg of regs) {
          reg.unregister().catch(() => { });
        }
      });
      if (typeof caches !== 'undefined') {
        caches
          .keys()
          .then(keys => keys.forEach(k => caches.delete(k)))
          .catch(() => { });
      }
    }
  </script>

  <!-- Cloudinary Upload Widget -->
  <script src="https://upload-widget.cloudinary.com/global/all.js" type="text/javascript"></script>
</body>

</html>