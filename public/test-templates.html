<!DOCTYPE html>
<html>

<head>
    <title>üß™ Teste de Templates</title>
    <script type="module">
        console.log('üîç TESTANDO CARREGAMENTO DE TEMPLATES...');

        // Teste 1: Verificar se conseguimos fazer fetch do JSON
        async function testJsonFetch() {
            try {
                const response = await fetch('/src/config/templates/step-01.json');
                if (response.ok) {
                    const data = await response.json();
                    console.log('‚úÖ Fetch JSON:', data.metadata.name);
                } else {
                    console.log('‚ùå Fetch falhou:', response.status);
                }
            } catch (e) {
                console.log('‚ùå Erro no fetch:', e.message);
            }
        }

        // Teste 2: Verificar import din√¢mico
        async function testDynamicImport() {
            try {
                const template = await import('/src/config/templates/step-01.json');
                console.log('‚úÖ Import din√¢mico:', template.default?.metadata?.name);
            } catch (e) {
                console.log('‚ùå Erro no import:', e.message);
            }
        }

        // Teste 3: Novo sistema - lazy loader
        async function testTemplateSystem() {
            try {
                const { loadFunnel } = await import('/src/templates/loaders/dynamic.ts');
                const funnel = await loadFunnel('quiz21StepsComplete', { validate: true });
                console.log('‚úÖ Novo sistema carregado:', funnel.metadata?.name);
                const blocks = funnel.steps?.['step-01'] || [];
                console.log('‚úÖ Step-01 blocks:', blocks.length);
            } catch (e) {
                console.log('‚ùå Erro no novo sistema:', e.message);
            }
        }

        // Executar testes
        testJsonFetch();
        testDynamicImport();
        testTemplateSystem();
    </script>
</head>

<body>
    <h1>üß™ Teste de Templates</h1>
    <p>Verifique o console do navegador para os resultados.</p>
</body>

</html>