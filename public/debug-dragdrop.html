<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Teste Drag and Drop Debug</title>
    <style>
      body {
        font-family: monospace;
        padding: 20px;
      }
      .debug {
        background: #f0f0f0;
        padding: 10px;
        margin: 10px 0;
        border-radius: 5px;
      }
      .error {
        background: #ffebee;
        color: #c62828;
      }
      .success {
        background: #e8f5e8;
        color: #2e7d32;
      }
      .warning {
        background: #fff3e0;
        color: #ef6c00;
      }
    </style>
  </head>
  <body>
    <h1>Teste Drag and Drop - Quiz Quest</h1>
    <div id="status"></div>

    <script>
      const status = document.getElementById("status");

      function addLog(message, type = "debug") {
        const div = document.createElement("div");
        div.className = `debug ${type}`;
        div.innerHTML = `[${new Date().toLocaleTimeString()}] ${message}`;
        status.appendChild(div);
        console.log(message);
      }

      addLog("ðŸš€ Iniciando teste de drag and drop...", "success");

      // Monitorar console logs
      const originalLog = console.log;
      const originalError = console.error;
      const originalWarn = console.warn;

      console.log = function (...args) {
        const message = args.join(" ");
        if (
          message.includes("ðŸŸ¢") ||
          message.includes("DragStart") ||
          message.includes("ðŸ”„") ||
          message.includes("DragEnd") ||
          message.includes("âœ…") ||
          message.includes("âŒ")
        ) {
          addLog(message, message.includes("âŒ") ? "error" : "success");
        }
        originalLog.apply(console, args);
      };

      console.error = function (...args) {
        const message = args.join(" ");
        addLog(`âŒ ERROR: ${message}`, "error");
        originalError.apply(console, args);
      };

      console.warn = function (...args) {
        const message = args.join(" ");
        if (!message.includes("Strategy 4") && !message.includes("forms-")) {
          addLog(`âš ï¸ WARNING: ${message}`, "warning");
        }
        originalWarn.apply(console, args);
      };

      addLog("ðŸ“Š Console monitoring ativo");
      addLog("ðŸ”— Navegue para /editor-fixed para testar drag and drop");

      // Auto-redirect apÃ³s 3 segundos
      setTimeout(() => {
        addLog("ðŸ”„ Redirecionando para editor...", "warning");
        window.location.href = "/editor-fixed";
      }, 3000);
    </script>
  </body>
</html>
