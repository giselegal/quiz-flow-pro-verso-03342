<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîç Debug - Fluxo n√£o avan√ßa</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .debug-panel {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border: 2px solid #dc3545;
        }
        .issue {
            background: #f8d7da;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            border-left: 4px solid #dc3545;
        }
        .solution {
            background: #d4edda;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            border-left: 4px solid #28a745;
        }
        .test-btn {
            padding: 10px 20px;
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .test-btn:hover {
            background: #c82333;
        }
        .console-output {
            background: #1e1e1e;
            color: #00ff00;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            margin: 10px 0;
            max-height: 300px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <h1>üîç Debug: Fluxo n√£o avan√ßa para pr√≥xima etapa</h1>

    <div class="debug-panel">
        <h2>‚ùå PROBLEMA IDENTIFICADO</h2>
        <div class="issue">
            <strong>Sintoma:</strong> O usu√°rio reporta que o fluxo n√£o avan√ßa para a pr√≥xima etapa ap√≥s inserir o nome e clicar no bot√£o.
        </div>

        <h3>üîç Poss√≠veis Causas:</h3>
        <ul>
            <li>onNameSubmit n√£o est√° sendo chamado</li>
            <li>handleSubmit n√£o est√° executando</li>
            <li>Bot√£o n√£o est√° respondendo ao click</li>
            <li>JavaScript com erro no console</li>
            <li>Estado isSubmitting travado</li>
            <li>setTimeout n√£o est√° funcionando</li>
        </ul>
    </div>

    <div class="debug-panel">
        <h2>üß™ TESTES DE DIAGN√ìSTICO</h2>
        
        <button class="test-btn" onclick="testQuizFlow()">
            üöÄ Testar Fluxo Principal
        </button>
        
        <button class="test-btn" onclick="openConsole()">
            üìã Abrir Console de Debug
        </button>
        
        <button class="test-btn" onclick="checkJSErrors()">
            ‚ö†Ô∏è Verificar Erros JS
        </button>

        <div id="console-output" class="console-output" style="display: none;">
            <div id="log-content">Aguardando logs...</div>
        </div>
    </div>

    <div class="debug-panel">
        <h2>üîß SOLU√á√ïES PROPOSTAS</h2>
        
        <div class="solution">
            <strong>1. Verificar Console do Navegador</strong><br>
            Abra F12 ‚Üí Console e veja se h√° erros quando clica no bot√£o
        </div>
        
        <div class="solution">
            <strong>2. Testar com Logs Extras</strong><br>
            Adicionar mais console.log para identificar onde para
        </div>
        
        <div class="solution">
            <strong>3. Verificar handleSubmit</strong><br>
            Pode haver problema na l√≥gica de valida√ß√£o do nome
        </div>
        
        <div class="solution">
            <strong>4. Testar onClick vs onSubmit</strong><br>
            Problema pode estar na duplica√ß√£o de eventos
        </div>
    </div>

    <div class="debug-panel" style="border-color: #28a745;">
        <h2>üõ†Ô∏è CORRE√á√ÉO IMEDIATA</h2>
        <p>Vou adicionar logs extras no IntroStep.tsx para identificar exatamente onde o fluxo est√° parando:</p>
        
        <div class="console-output">
console.log('üéØ TESTE: handleSubmit chamado', { nome: nome.trim() });<br>
console.log('‚úÖ TESTE: Nome v√°lido, enviando...', nome.trim());<br>
console.log('‚úÖ TESTE: onNameSubmit executado com sucesso');<br>
console.log('‚úÖ TESTE FLUXO: Nome coletado com sucesso:', name);<br>
console.log('‚û°Ô∏è TESTE FLUXO: Avan√ßando para step-2');
        </div>
        
        <p>Se voc√™ n√£o vir esses logs no console, identificaremos onde est√° o problema.</p>
    </div>

    <script>
        let logContainer = document.getElementById('log-content');
        let originalConsoleLog = console.log;
        
        // Interceptar console.log para mostrar na p√°gina
        console.log = function(...args) {
            originalConsoleLog.apply(console, args);
            
            const message = args.join(' ');
            if (message.includes('TESTE')) {
                const logDiv = document.createElement('div');
                logDiv.innerHTML = `[${new Date().toLocaleTimeString()}] ${message}`;
                logContainer.appendChild(logDiv);
                document.getElementById('console-output').style.display = 'block';
                logContainer.scrollTop = logContainer.scrollHeight;
            }
        };

        function testQuizFlow() {
            console.log('üß™ INICIANDO TESTE DE FLUXO...');
            window.open('http://localhost:8080/quiz-estilo', '_blank');
            
            setTimeout(() => {
                alert('üîç INSTRU√á√ïES DO TESTE:\\n\\n1. Digite um nome no campo\\n2. Clique no bot√£o\\n3. Observe o console desta p√°gina\\n4. Verifique se avan√ßa para step-2\\n\\nSe n√£o funcionar, volte aqui e veja os logs.');
            }, 1000);
        }

        function openConsole() {
            alert('üìã COMO ABRIR O CONSOLE:\\n\\n1. Pressione F12\\n2. V√° na aba Console\\n3. Teste o quiz\\n4. Procure por logs com "TESTE"\\n\\nSe n√£o houver logs, o handleSubmit n√£o est√° executando.');
        }

        function checkJSErrors() {
            fetch('http://localhost:8080/quiz-estilo')
                .then(() => {
                    alert('‚úÖ SERVIDOR OK\\n\\nPr√≥ximos passos:\\n1. Abra o quiz\\n2. Abra F12 ‚Üí Console\\n3. Digite nome e clique\\n4. Veja se h√° erros vermelhos');
                })
                .catch(() => {
                    alert('‚ùå SERVIDOR COM PROBLEMA\\n\\nServidor n√£o est√° respondendo. Verifique se est√° rodando na porta 8080.');
                });
        }

        // Mostrar status do servidor
        fetch('http://localhost:8080/')
            .then(response => {
                if (response.ok) {
                    document.title = '‚úÖ ' + document.title;
                    console.log('‚úÖ DEBUG: Servidor ativo - pronto para debug');
                }
            })
            .catch(() => {
                document.title = '‚ùå ' + document.title;
                console.log('‚ùå DEBUG: Servidor n√£o responde');
            });
    </script>
</body>
</html>