<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Teste de RenderizaÃ§Ã£o de Componentes - Quiz Quest</title>
    <script type="module" src="/src/main.tsx"></script>
    <style>
      .test-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        background: #f5f5f5;
      }
      .component-test {
        background: white;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        padding: 20px;
        margin: 20px 0;
      }
      .component-title {
        font-size: 18px;
        font-weight: bold;
        color: #333;
        margin-bottom: 10px;
        border-bottom: 1px solid #eee;
        padding-bottom: 10px;
      }
      .status {
        display: inline-block;
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 12px;
        font-weight: bold;
      }
      .status.success {
        background: #d4edda;
        color: #155724;
      }
      .status.error {
        background: #f8d7da;
        color: #721c24;
      }
      .status.loading {
        background: #d1ecf1;
        color: #0c5460;
      }
    </style>
  </head>
  <body>
    <div class="test-container">
      <h1>ğŸ§ª Teste de RenderizaÃ§Ã£o de Componentes</h1>
      <p>Verificando se todos os componentes inline estÃ£o renderizando corretamente...</p>

      <div class="component-test">
        <div class="component-title">
          ğŸ“ Componentes BÃ¡sicos
          <span class="status loading" id="basic-status">Carregando...</span>
        </div>
        <div id="basic-components">
          <!-- Componentes bÃ¡sicos serÃ£o inseridos aqui via JavaScript -->
        </div>
      </div>

      <div class="component-test">
        <div class="component-title">
          ğŸ¨ Componentes de Design
          <span class="status loading" id="design-status">Carregando...</span>
        </div>
        <div id="design-components">
          <!-- Componentes de design serÃ£o inseridos aqui via JavaScript -->
        </div>
      </div>

      <div class="component-test">
        <div class="component-title">
          ğŸ¯ Componentes do Quiz
          <span class="status loading" id="quiz-status">Carregando...</span>
        </div>
        <div id="quiz-components">
          <!-- Componentes do quiz serÃ£o inseridos aqui via JavaScript -->
        </div>
      </div>
    </div>

    <script type="module">
      console.log("ğŸ§ª Iniciando teste de componentes...");

      // FunÃ§Ã£o para testar se um componente pode ser importado
      async function testComponent(componentName, modulePath) {
        try {
          const module = await import(modulePath);
          const Component = module.default || module[componentName];
          if (Component) {
            console.log(`âœ… ${componentName} carregado com sucesso`);
            return { success: true, component: Component };
          } else {
            console.error(`âŒ ${componentName} nÃ£o encontrado no mÃ³dulo`);
            return { success: false, error: "Componente nÃ£o encontrado" };
          }
        } catch (error) {
          console.error(`âŒ Erro ao carregar ${componentName}:`, error);
          return { success: false, error: error.message };
        }
      }

      // Lista de componentes para testar
      const componentsToTest = [
        // BÃ¡sicos
        {
          name: "TextInlineBlock",
          path: "/src/components/editor/blocks/inline/TextInlineBlock.tsx",
          type: "basic",
        },
        {
          name: "HeadingInlineBlock",
          path: "/src/components/editor/blocks/inline/HeadingInlineBlock.tsx",
          type: "basic",
        },
        {
          name: "ButtonInlineBlock",
          path: "/src/components/editor/blocks/inline/ButtonInlineBlock.tsx",
          type: "basic",
        },
        {
          name: "ImageDisplayInlineBlock",
          path: "/src/components/editor/blocks/inline/ImageDisplayInlineBlock.tsx",
          type: "basic",
        },

        // Design
        {
          name: "StyleCardInlineBlock",
          path: "/src/components/editor/blocks/inline/StyleCardInlineBlock.tsx",
          type: "design",
        },
        {
          name: "PricingCardInlineBlock",
          path: "/src/components/editor/blocks/inline/PricingCardInlineBlock.tsx",
          type: "design",
        },

        // Quiz
        {
          name: "QuizStartPageInlineBlock",
          path: "/src/components/editor/blocks/inline/QuizStartPageInlineBlock.tsx",
          type: "quiz",
        },
        {
          name: "QuizResultInlineBlock",
          path: "/src/components/editor/blocks/inline/QuizResultInlineBlock.tsx",
          type: "quiz",
        },
      ];

      // Executar testes
      let results = { basic: [], design: [], quiz: [] };

      for (const component of componentsToTest) {
        const result = await testComponent(component.name, component.path);
        results[component.type].push({
          name: component.name,
          success: result.success,
          error: result.error,
        });
      }

      // Atualizar a interface com os resultados
      function updateResults(type, results) {
        const container = document.getElementById(`${type}-components`);
        const status = document.getElementById(`${type}-status`);

        let html = "";
        let successCount = 0;

        results.forEach(result => {
          const statusClass = result.success ? "success" : "error";
          const statusText = result.success ? "âœ… OK" : `âŒ ${result.error}`;
          successCount += result.success ? 1 : 0;

          html += `
                    <div style="margin: 8px 0; padding: 8px; border-left: 3px solid ${result.success ? "#28a745" : "#dc3545"}; background: ${result.success ? "#f8fff9" : "#fff8f8"};">
                        <strong>${result.name}</strong>: 
                        <span class="status ${statusClass}">${statusText}</span>
                    </div>
                `;
        });

        container.innerHTML = html;

        // Atualizar status geral
        const totalCount = results.length;
        if (successCount === totalCount) {
          status.className = "status success";
          status.textContent = `${successCount}/${totalCount} âœ…`;
        } else {
          status.className = "status error";
          status.textContent = `${successCount}/${totalCount} âŒ`;
        }
      }

      // Atualizar resultados na interface
      updateResults("basic", results.basic);
      updateResults("design", results.design);
      updateResults("quiz", results.quiz);

      console.log("ğŸ§ª Teste de componentes concluÃ­do!", results);
    </script>
  </body>
</html>
